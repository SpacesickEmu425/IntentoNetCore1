@model IEnumerable<IntentoNetCore1.Models.DB.Menus>
@*Se basa en el modelo hecho en la parte de Models
		para crear un objeto con esos "atributos".
		La expresión IEnumerable se usa para listar
		varios "objetos" basados en ése modelo*@


@{
		ViewData["Title"] = "Administrador de Menús";
}
<form class="new-page tabl-content">
		<h2>Administrador de Menús</h2>
		<hr>
		<div class="table-responsive">
				<table id="tabla" class="table table-striped table-bordered table-hover">
						<thead class="thead-dark">
								<tr>
										<th scope="col">
												Id
										</th>
										<th scope="col">
												Menú
										</th>
										<th scope="col">
												Tipo Menu
										</th>
										<th scope="col">
												Link
										</th>
										<th scope="col">
												Editar
										</th>
										<th scope="col">
												Borrar
										</th>
										<th scope="col">
												Agregar Submenú
										</th>
								</tr>
						</thead>
						<tbody>
								<!--Recorre la lista recibida de modelos (de la clase menus) creada en el controldador-->
								@foreach (var item in Model)
								{
										<tr>
												<td>
														@item.cla_menu
												</td>
												<td>
														@item.Menu
												</td>
												<td>
														@if (item.tipomenu == 1)
														{
																<p>Menu Principal</p>
														}
														else
														{
																if (item.tipomenu == 2)
																{
																		<p>Menu secundario</p>
																}
																else
																{
																		<p>Menú Temporal</p>
																}
														}
												</td>
												<td>
														@item.link
												</td>
												<td>
														<a class="btn btn-dark" type="submit" href="@Url.Action("ModificarMenu", "Secciones", new { cla_menu = item.cla_menu })">Editar</a>
												</td>
												<td>
														<a class="btn btn-danger" type="submit" href="@Url.Action("ComprobarSubmenus","Secciones", new { cla_menu = item.cla_menu })">Borrar</a>
												</td>
												<td>
														<a class="btn btn-dark" type="submit" href="@Url.Action("AgregarSubMenuNuevo","Secciones", new { cla_menu = item.cla_menu })">Agregar submenú</a>
												</td>
										</tr>
								}
						</tbody>
				</table>
		</div>
		<!--Esto hace que no cargue toda la lista de golpe, carga los que se marque en el controlador-->
		@*<div class="row row-menu">
				@for (var i = 0; i <= ViewBag.total; i++)
				{
						int i2 = i + 1;
						<div class="col-1">
								<a href="@Url.Action("AdministradorMenus", "Secciones", new { option = i})" class="form-control btn btn-dark">@i2</a>

						</div>
				}
		</div>*@
</form>
