@model IEnumerable<IntentoNetCore1.Models.DB.Menus>
@*Recibe la lista de objetos basados en el modelo Menus. IEnumerable sirve para ser capaz de manejar las listas*@
@*
		For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{ ViewData["Title"] = "Submenús de " + ViewBag.menuApa.Menu; }
<form class="new-page tabl-content">
		
		<div class="Titulo">
				<div class="ContenidoTitulo">
						<h2>Submenús</h2>
				</div>
				<div class="btn-agregarEnTabla">
						<a class="btn btn-dark" type="submit" href="@Url.Action("AgregarSubMenuNuevo","Secciones", new { cla_menu = ViewBag.menuApa.cla_menu })">Agregar Nuevo submenú</a>
				</div>
				<hr>
		</div>
		<div class="table-responsive">
				<table id="tabla" class="table table-striped table-bordered table-hover">
						<thead class="thead-dark">
								<tr>
										<th scope="col">
												Id
										</th>
										<th scope="col">
												Menú
										</th>
										<th scope="col">
												Tipo Menu
										</th>
										<th scope="col">
												Link
										</th>
										<th scope="col">
												Editar
										</th>
										<th scope="col">
												Borrar
										</th>
										<th scope="col">
												Agregar Submenú
										</th>
								</tr>
						</thead>
						<tbody>
								<!--Recorre el modelo de la clase menus creada en el controldador-->
								@foreach (var item in Model)
								{
		<tr>
				<td>
						@item.cla_menu
				</td>
				<td>
						@item.Menu
				</td>
				<td>
						@if (item.tipomenu == 1)
						{
<p>Menu Principal</p> }
								else
								{
										if (item.tipomenu == 2)
										{
<p>Menu secundario</p> }
										else
										{
<p>Menú Temporal</p>}
								}
				</td>
				<td>
						@item.link
				</td>
				<td>
						<a class="btn btn-dark" type="submit" href="@Url.Action("ModificarMenu", "Secciones", new { cla_menu = item.cla_menu })">Editar</a>
				</td>
				<td>
						<a class="btn btn-danger" type="submit" href="@Url.Action("ComprobarSubmenus","Secciones", new { cla_menu = item.cla_menu })">Borrar</a>
				</td>
				<td>
						<a class="btn btn-dark" type="submit" href="@Url.Action("AgregarSubMenuNuevo","Secciones", new { cla_menu = item.cla_menu })">Agregar submenú</a>
				</td>
		</tr>}
						</tbody>
				</table>
		</div>
</form>

@section scripts{

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>
		<script>
				$.alert("Para borrar este menú, primero tienes que borrar sus submenús");
		</script>
}